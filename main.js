const fs = require('fs').promises;
const prompt = require('prompt-sync')();
const template_files = [
  '/NDA.md',
  '/pentest-report.md',
  '/right-to-speak-to-law-enforcement.md',
  '/scope-of-work.md'
];
const pentester_name = prompt('Pentester Name: ');
//const pentester_address = prompt('Pentester Address: ');
//const pentester_city = prompt('Pentester City: ');
//const pentester_state = prompt('Pentester State: ');
//const pentester_zip = prompt('Pentester Zip');

replaceText(`${template_files[0]}`, '[Name of Receiving Party]', pentester_name)
//replaceText(`${template_files[0]}`, /[Receiving Address]/g, pentester_address)
async function replaceText(someFile, search, replace) {
  // Below statements must be wrapped inside the 'async' function:
  const data = await fs.readFile(`.${someFile}`, 'utf8');
  //const result = data.replace(/`string to be replaced`/g, 'replacement')
  const result = data.replace(search, replace);

  await fs.writeFile(`.clients${someFile}`, result,'utf8');
}
